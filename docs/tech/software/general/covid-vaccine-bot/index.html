<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How we used automation to get COVID vaccines early | Charles M. Knox</title><meta name=keywords content="coding,software,tech,automation,python,tor,privacy,docker,collaboration"><meta name=description content="How we used automation to get ourselves COVID vaccines!"><meta name=author content="Charles M. Knox"><link rel=canonical href=https://charlesmknox.com/tech/software/general/covid-vaccine-bot/><link href=/assets/css/stylesheet.min.1eef9c740af75b4e5f773d9d5f757e03e3df71f3a308e73070cc73d55a59a7d7.css integrity="sha256-Hu+cdAr3W05fdz2dX3V+A+PfcfOjCOcwcMxz1VpZp9c=" rel="preload stylesheet" as=style><link rel=icon href=https://charlesmknox.com/TechLife23.png><link rel=icon type=image/png sizes=16x16 href=https://charlesmknox.com/TechLife23.png><link rel=icon type=image/png sizes=32x32 href=https://charlesmknox.com/TechLife23.png><link rel=apple-touch-icon href=https://charlesmknox.com/TechLife23.png><link rel=mask-icon href=https://charlesmknox.com/TechLife23.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.81.0"><meta property="og:title" content="How we used automation to get COVID vaccines early"><meta property="og:description" content="How we used automation to get ourselves COVID vaccines!"><meta property="og:type" content="article"><meta property="og:url" content="https://charlesmknox.com/tech/software/general/covid-vaccine-bot/"><meta property="article:published_time" content="2021-03-13T19:00:00+00:00"><meta property="article:modified_time" content="2021-03-13T19:00:00+00:00"><meta property="og:site_name" content="Charles M. Knox"><meta name=twitter:card content="summary"><meta name=twitter:title content="How we used automation to get COVID vaccines early"><meta name=twitter:description content="How we used automation to get ourselves COVID vaccines!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Tech Blog","item":"https://charlesmknox.com/tech/"},{"@type":"ListItem","position":3,"name":"Software","item":"https://charlesmknox.com/tech/software/"},{"@type":"ListItem","position":4,"name":"General","item":"https://charlesmknox.com/tech/software/general/"},{"@type":"ListItem","position":5,"name":"How we used automation to get COVID vaccines early","item":"https://charlesmknox.com/tech/software/general/covid-vaccine-bot/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How we used automation to get COVID vaccines early","name":"How we used automation to get COVID vaccines early","description":"üíâ Introduction A friend of mine, Tynick, and I crossed paths on a project he started - he wanted to get a COVID vaccine by doing a volunteer shift. The two websites that offer ‚Ä¶","keywords":["coding","software","tech","automation","python","tor","privacy","docker","collaboration"],"articleBody":"üíâ Introduction A friend of mine, Tynick, and I crossed paths on a project he started - he wanted to get a COVID vaccine by doing a volunteer shift. The two websites that offer volunteering signups occasionally had openings, but they were always taken almost immediately.\nSo, he had the brilliant idea to use some clever Python to automatically check the website, and notify him with Slack or Twilio whenever there‚Äôs a signup available.\nCheckout the ‚ÄúUsing Python to get an early COVID vaccine‚Äù post on tynick.com for all the juicy details.\nTynick‚Äôs original work is an excellent, minimalist solution that contains only the bare minimum needed to run the project and get the job done. While we were chatting about this bot, I found that I wanted to run it too, but I didn‚Äôt want to have both of our bots running simultaneously, and I didn‚Äôt want to get my IP address on a blocklist. Additionally, I didn‚Äôt want to run it on Heroku.\nSo, I dockerized it, pointed it to a local Tor proxy (included in this repo), added some environment variable configuration, and wrapped everything together in a docker compose file. See the architecture section for details. My hope is that the audience reading Tynick‚Äôs original post might want to take things a little further and see a version of the app that has a bit extra added on top.\nI hope readers find this iteration on the project useful! Tynick and I had a blast with this project and we were also happy to help friends get vaccinated.\nLink to the source code, and the fork The source code from Tynick is here: https://github.com/tynick/covid-vaccine-bot\nAnd the source code for my fork, which is what we‚Äôre talking about for the rest of this writeup, is here: https://github.com/charles-m-knox/covid-vaccine-bot\nYou can see an open PR between the two repositories here - this PR will remain open for illustrative purposes: https://github.com/tynick/covid-vaccine-bot/pull/1\nGetting Started This setup requires Docker, Docker compose, and optionally, GNU Make.\n If you don‚Äôt have Docker, visit get.docker.com and follow the install steps in the comments at the top of the file  Helpful advice if you can‚Äôt find it: It will be something like curl  followed by sh get-docker.sh   If you don‚Äôt have Docker compose, visit the official installation instructions page for compose. If you don‚Äôt have GNU Make, or are not sure how to check if you have it, simply run the command make -h in your terminal. You should see some help text print out in your terminal.  If you definitely don‚Äôt have it, installation steps vary from platform, but if you‚Äôre on a system like Ubuntu you can run sudo apt install make - see here.    First, make a copy of .env.sample.env into the file .env:\ncp .env.sample.env .env Modify the values in it to correspond to your Slack and Twilio configuration - if you‚Äôre not using one of the services such as Twilio, you can leave its values blank:\nSLACK_WEBHOOK_URL=https://hooks.slack.com/services/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 TWILIO_ACCOUNT_SID=xyz TWILIO_AUTH_TOKEN=xyz TWILIO_TARGET_NUMBER=+15555555555 TWILIO_SOURCE_NUMBER=+15555555555  Note: Do not use quotes. Also, that‚Äôs not a real Slack webhook, even though it looks like one.\n Next, if you have make installed, run the commands:\nmake pull # this will fail to pull the vaccine-bot image, that's expected - building it next make build-image make run make logs # optional: will follow logs If you don‚Äôt have make, that‚Äôs OK - the bash commands that it runs are contained in the Makefile and you can still do everything as follows:\ndocker-compose pull # this will fail to pull the vaccine-bot image, that's expected - building it next docker build -t covid-vaccine-bot:latest . docker-compose up -d docker-compose logs -f # follows logs Making sense of the log output Take a look at the below logs, which are captured from running docker-compose logs -f (or make logs if you‚Äôre using the Makefile). This is fairly normal. The following is happening, in order:\n The COVID vaccine bot is running, and is trying to make a request to the volunteer website. The COVID vaccine bot‚Äôs requests are failing (hence why we see exceptions occurring), because the tor-privoxy service hasn‚Äôt started yet. The tor-privoxy service finally starts up, as indicated by the fact that we see messages coming from the service. The COVID vaccine bot starts to succeed, because the Tor connection has been established successfully.   Note: Tor will always take a few moments to start up. This is because it is creating and securing a circuit (as well as a couple other things), which is a set of 3 networked devices in the Tor network that the tor-privoxy service will make its requests through. You can see this with the Tor browser on startup too.\n covid-vaccine-bot | During handling of the above exception, another exception occurred: covid-vaccine-bot | covid-vaccine-bot | Traceback (most recent call last): covid-vaccine-bot | File \"/src/covid-vaccine-bot.py\", line 66, in  covid-vaccine-bot | vaccine_site_info = get_site(site_url) covid-vaccine-bot | File \"/src/covid-vaccine-bot.py\", line 58, in get_site covid-vaccine-bot | response = requests.get(url, headers=headers) covid-vaccine-bot | File \"/usr/local/lib/python3.9/site-packages/requests/api.py\", line 76, in get covid-vaccine-bot | return request('get', url, params=params, **kwargs) covid-vaccine-bot | File \"/usr/local/lib/python3.9/site-packages/requests/api.py\", line 61, in request covid-vaccine-bot | return session.request(method=method, url=url, **kwargs) covid-vaccine-bot | File \"/usr/local/lib/python3.9/site-packages/requests/sessions.py\", line 542, in request covid-vaccine-bot | resp = self.send(prep, **send_kwargs) covid-vaccine-bot | File \"/usr/local/lib/python3.9/site-packages/requests/sessions.py\", line 655, in send covid-vaccine-bot | r = adapter.send(request, **kwargs) covid-vaccine-bot | File \"/usr/local/lib/python3.9/site-packages/requests/adapters.py\", line 510, in send covid-vaccine-bot | raise ProxyError(e, request=request) covid-vaccine-bot | requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.handsonphoenix.org', port=443): Max retries exceeded with url: /opportunity/a0N1J00000QGgU1UAL (Caused by ProxyError('Cannot connect to proxy.', OSError('Tunnel connection failed: 503 Forwarding failure'))) tor-privoxy | tor-privoxy | * /proc is already mounted tor-privoxy | * /run/openrc: creating directory tor-privoxy | * /run/lock: creating directory tor-privoxy | * /run/lock: correcting owner tor-privoxy | * Starting privoxy ... [ ok ] tor-privoxy | * Setting up Tor control relay ... [ ok ] tor-privoxy | * /var/lib/tor: correcting owner tor-privoxy | * /run/tor: creating directory tor-privoxy | * /run/tor: correcting owner tor-privoxy | * Starting tor ... [ ok ] tor-privoxy | OpenRC 0.39.2.7e1d41d609 is starting up Linux 5.8.0-44-generic (x86_64) [DOCKER] tor-privoxy | tor-privoxy | * Caching service dependencies ... [ ok ] covid-vaccine-bot | getting site... covid-vaccine-bot | site retrieved... covid-vaccine-bot | nothing was available covid-vaccine-bot | getting site... covid-vaccine-bot | site retrieved... covid-vaccine-bot | There is an opening at State Farm Stadium. Check https://www.handsonphoenix.org/opportunity/a0N1J00000NW4CHUA1 for more info. Architecture The vaccine bot relies on the tor-privoxy service being alive in order to make its outbound requests, including Slack and Twilio.\n Note: It‚Äôs posible Twilio may reject requests from behind the Tor network. I haven‚Äôt tested it, but Slack appears to work.\n Why use Tor? What is it? If you aren‚Äôt familiar with Tor, you should take a moment to read and understand what it is. I‚Äôll try and summarize.\nFor all intents and purposes, Tor is a couple things:\n It‚Äôs a couple thousand systems run by regular people like you and I, or run by corporations or other entities. It‚Äôs a protocol for taking your network requests and bouncing them around those thousands of systems across the world, to form a ‚Äúcircuit‚Äù. It is also a means to access hidden services, or Onion sites, which are long URLs that differ from a typical xyz.com website: 3g2upl4pq6kufc4m.onion - this is the DuckDuckGo hidden service, for example.  Most hidden services have much longer names. Hidden services are more or less randomly generated names (there is a lot of cryptography behind it). Some hidden services, like Facebook, used brute force to randomly generate hidden service names until they got one they like: facebookcorewwwi.onion    Tor helps you become a bit more ‚Äúanonymous‚Äù on the web. Normally, when you visit a webpage, the traffic first gets relayed by your internet service provider (such as Cox or Comcast), out to the world wide web, and to the destination. When you visit Tor, the traffic does technically also go through your ISP, but there are so many layers of cryptography and network trickery at work that they have no realistic way of knowing what you‚Äôre doing, and effectively, they cannot monitor you.\nHowever, simply proxying requests through Tor (like we are in this project) will NOT make you anonymous on the web. There‚Äôs so much more to it than that.\nIn order to be anonymous in the real world, you might first try putting on a face covering. If you‚Äôre the only person wearing a face covering in public, you‚Äôre not really anonymous - you‚Äôre actually unique, because you‚Äôre sticking out like a sore thumb. Just because your face isn‚Äôt visible, it doesn‚Äôt make you anonymous.\nLet‚Äôs take the analogy a bit further. Suppose you are wearing a face covering, and everyone else around you is also wearing a face covering. Suddenly, your anonymity has increased.\nUsing this Tor proxy will make me anonymous now! Mission accomplished. Right? Not exactly. When our requests are proxied through Tor in this setup, we aren‚Äôt really taking proper steps to ‚Äúblend in with the crowd‚Äù by any means.\nThe only reason Tor comes in handy in this architecture is to grant us a different IP address.\nEffectively, we could replace the Tor Docker service in this architecture with a VPN, and it would actually be better. However, for the sake of expediency, and for the sake of advocating the use of Tor, I decided to shoehorn it into this project. You should not use Tor if you don‚Äôt have to. People in the real world depend on Tor for their livelihood, and other people dedicate their time to offering their devices to others out of the goodness of their hearts.\nSo how do I do anything on the internet without being tracked online? First off, let‚Äôs agree on something: Just because you might ‚Äúhave nothing to hide‚Äù, doesn‚Äôt mean that you ‚Äúshould expose everything you do online to everyone‚Äù. That‚Äôs a big discussion in and of itself for another time.\nIn order to actually be anonymous online and browse the web (via a web browser), and following our analogy from earlier, everyone has to:\n Hide their face with a good face covering. Have the same physique. Wear the same clothing. Walk the same way. Talk to no one on the way to the destination. Make no indication of where you‚Äôre going to anyone watching until you‚Äôre at your destination.  All of this is done for you with the Tor browser.\nThe Tor browser should not be reconfigured at all from its defaults. By assimilating yourself into the masses, you have the ability to go where you want to go without the feeling of being watched, tracked, or potentially regretting clicking on an ad or page you didn‚Äôt mean to click. You can explore that rabbit hole without fear of becoming targeted by ads.\nI won‚Äôt be writing an in-depth guide on Tor here, but there are lots of resources online that can help you learn.\nWhat are the different files/changes in this repository, compared to the original? Added: Dockerfile The Dockerfile contains a standard automation for (somewhat) efficiently building the Python-based Docker image for this project. I definitely recommend you read the comments in the Dockerfile - I tried to annotate things to be as helpful as possible.\nAdded: docker-compose.yml The docker-compose.yml file is very important - in it, it contains two services, which are just containers that are configured to work together:\n the tor-privoxy service, discussed above the covid-vaccine-bot service itself  Take a look at this file and read each of my comments. Hopefully you‚Äôll learn something new. Note: this file might be out of sync with master, make sure to check docker-compose.yml for differences before using this somewhere else! üôÇ\nversion: '3.7' services: tor-privoxy: container_name: tor-privoxy image: dockage/tor-privoxy:latest ports: # by using \"127.0.0.1::\", we restrict access to this Docker container to this system only - \"127.0.0.1:9060:9050\" # Tor proxy - \"127.0.0.1:9061:9051\" # Tor control port (not needed for this project) - \"127.0.0.1:8118:8118\" # Privoxy - a proxy with built-in ad-blocking lists restart: unless-stopped logging: # keeps logging to a max of ~2mb driver: \"json-file\" options: max-size: \"200k\" max-file: \"10\" covid-vaccine-bot: container_name: covid-vaccine-bot # network_mode: service:tor-privoxy # this will not work! you have to use the proxy image: covid-vaccine-bot:latest environment: # reads from the .env file located in this directory - HTTP_PROXY=http://tor-privoxy:8118  # the name of the tor-privoxy service resolves, thanks to docker's DNS - HTTPS_PROXY=http://tor-privoxy:8118  # the name of the tor-privoxy service resolves, thanks to docker's DNS - SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}  # the .env file is automatically read by docker compose - TWILIO_ACCOUNT_SID=${TWILIO_ACCOUNT_SID}  # the .env file is automatically read by docker compose - TWILIO_AUTH_TOKEN=${TWILIO_AUTH_TOKEN}  # the .env file is automatically read by docker compose - TWILIO_TARGET_NUMBER=${TWILIO_TARGET_NUMBER}  # the .env file is automatically read by docker compose - TWILIO_SOURCE_NUMBER=${TWILIO_SOURCE_NUMBER}  # the .env file is automatically read by docker compose volumes: - ./covid-vaccine-bot.py:/src/covid-vaccine-bot.py  # allows you to restart the container instead of rebuilding the image when changing the source code tty: true # if tty is not set to true, python logs will not show up in real time depends_on: - tor-privoxy  # wait for the tor-privoxy service to start restart: unless-stopped logging: # keeps logging to a max of ~2mb driver: \"json-file\" options: max-size: \"200k\" max-file: \"10\" Added: .dockerignore and .gitignore The .dockerignore file is similar to .gitignore, if you‚Äôre familiar with it:\n .dockerignore instructs the docker build command to ignore files that match the patterns specified in this file.  This is useful because sometimes your repository contains large files that your Docker image might not even need in the first place.   .gitignore instructs git to exclude specified files; in this case, we ignore the .env file because it contains secret Slack webhooks and account credentials for Twilio.  Modified: covid-vaccine-bot.py I added some simple logic to handle environment variables in covid-vaccine-bot.py, which are defined in the .env file and automatically propagated into the container at runtime via Docker compose. Additionally, my Python auto-formatter did some code reformatting.\nSpecifically, os.environ.get('ENV_VARIABLE', '') is good practice, because if you just try to access a Python dictionary by a key that doesn‚Äôt exist, it throws an exception:\nos.environ['NON_EXISTENT_KEY'] # throws exception, halts your code os.environ.get('NON_EXISTENT_KEY', '') # simply returns '', much better Added: Makefile The Makefile is pretty simple. If you‚Äôre not familiar with them, Makefiles allow developers to put frequently used commands/automated tasks into a single place. One of the best features about it is that you can use tab auto-completion out of the box by just simply defining a section, such as:\nbuild-image: docker build -t covid-vaccine-bot:latest . And you can execute this command by running:\nmake build-image # try tab completing as you type Final notes I‚Äôll reiterate: Tynick did a fantastic job with this project - he was able to automate a tool to get multiple people a COVID vaccine! We both had a great time expanding and bringing this tool to our friends, and we feel honored to have helped get people vaccinated AND volunteering.\nI hope you‚Äôve found this writeup informative. If you have any questions, visit charlesmknox.com and use any of the social contact URLs on the landing page. You can also visit charlesmknox.com/about to find ways to support me.\n","wordCount":"2523","inLanguage":"en","datePublished":"2021-03-13T19:00:00Z","dateModified":"2021-03-13T19:00:00Z","author":{"@type":"Person","name":"Charles M. Knox"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://charlesmknox.com/tech/software/general/covid-vaccine-bot/"},"publisher":{"@type":"Organization","name":"Charles M. Knox","logo":{"@type":"ImageObject","url":"https://charlesmknox.com/TechLife23.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://charlesmknox.com accesskey=h title="Charles M. Knox (Alt + H)"><img src=/TechLife23.png alt=logo aria-label=logo height=35>Charles M. Knox</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://charlesmknox.com/about title=About><span>About</span></a></li><li><a href=https://charlesmknox.com/categories/portfolio title=Portfolio><span>Portfolio</span></a></li><li><a href=https://charlesmknox.com/supporters title=Supporters><span>Supporters</span></a></li><li><a href=https://charlesmknox.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://charlesmknox.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://charlesmknox.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://charlesmknox.com/ title=Home><span>Home</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How we used automation to get COVID vaccines early</h1><div class=post-description>How we used automation to get ourselves COVID vaccines!</div><div class=post-meta>March 13, 2021&nbsp;¬∑&nbsp;12 min&nbsp;¬∑&nbsp;Charles M. Knox</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#-introduction aria-label="üíâ Introduction">üíâ Introduction</a></li><li><a href=#link-to-the-source-code-and-the-fork aria-label="Link to the source code, and the fork">Link to the source code, and the fork</a></li><li><a href=#getting-started aria-label="Getting Started">Getting Started</a><ul><li><a href=#making-sense-of-the-log-output aria-label="Making sense of the log output">Making sense of the log output</a></li></ul></li><li><a href=#architecture aria-label=Architecture>Architecture</a><ul><li><a href=#why-use-tor-what-is-it aria-label="Why use Tor? What is it?">Why use Tor? What is it?</a></li><li><a href=#using-this-tor-proxy-will-make-me-anonymous-now-mission-accomplished-right aria-label="Using this Tor proxy will make me anonymous now! Mission accomplished. Right?">Using this Tor proxy will make me anonymous now! Mission accomplished. Right?</a></li><li><a href=#so-how-do-i-do-anything-on-the-internet-without-being-tracked-online aria-label="So how do I do anything on the internet without being tracked online?">So how do I do anything on the internet without being tracked online?</a></li></ul></li><li><a href=#what-are-the-different-fileschanges-in-this-repository-compared-to-the-original aria-label="What are the different files/changes in this repository, compared to the original?">What are the different files/changes in this repository, compared to the original?</a><ul><li><a href=#added-dockerfile aria-label="Added: Dockerfile">Added: Dockerfile</a></li><li><a href=#added-docker-composeyml aria-label="Added: docker-compose.yml">Added: <code>docker-compose.yml</code></a></li><li><a href=#added-dockerignore-and-gitignore aria-label="Added: .dockerignore and .gitignore">Added: <code>.dockerignore</code> and <code>.gitignore</code></a></li><li><a href=#modified-covid-vaccine-botpy aria-label="Modified: covid-vaccine-bot.py">Modified: <code>covid-vaccine-bot.py</code></a></li><li><a href=#added-makefile aria-label="Added: Makefile">Added: <code>Makefile</code></a></li></ul></li><li><a href=#final-notes aria-label="Final notes">Final notes</a></li></ul></div></details></div><div class=post-content><h2 id=-introduction>üíâ Introduction<a hidden class=anchor aria-hidden=true href=#-introduction>#</a></h2><p>A friend of mine, <a href=https://tynick.com>Tynick</a>, and I crossed paths on a project he started - he wanted to get a COVID vaccine by doing a volunteer shift. The two websites that offer volunteering signups occasionally had openings, but they were always taken almost immediately.</p><p>So, he had the brilliant idea to use some clever Python to automatically check the website, and notify him with Slack or Twilio whenever there&rsquo;s a signup available.</p><p>Checkout the <a href=https://tynick.com/blog/03-13-2021/using-python-to-get-an-early-covid-vaccine/>&ldquo;Using Python to get an early COVID vaccine&rdquo; post on tynick.com</a> for all the juicy details.</p><p><a href=https://tynick.com>Tynick</a>&rsquo;s original work is an excellent, minimalist solution that contains only the bare minimum needed to run the project and get the job done. While we were chatting about this bot, I found that I wanted to run it too, but I didn&rsquo;t want to have both of our bots running simultaneously, and I didn&rsquo;t want to get my IP address on a blocklist. Additionally, I didn&rsquo;t want to run it on Heroku.</p><p>So, I dockerized it, pointed it to a local Tor proxy (included in this repo), added some environment variable configuration, and wrapped everything together in a docker compose file. See the <a href=#architecture>architecture</a> section for details. My hope is that the audience reading Tynick&rsquo;s original post might want to take things a little further and see a version of the app that has a bit extra added on top.</p><p>I hope readers find this iteration on the project useful! Tynick and I had a blast with this project and we were also happy to help friends get vaccinated.</p><h2 id=link-to-the-source-code-and-the-fork>Link to the source code, and the fork<a hidden class=anchor aria-hidden=true href=#link-to-the-source-code-and-the-fork>#</a></h2><p>The source code from <a href=https://github.com/tynick>Tynick</a> is here: <a href=https://github.com/tynick/covid-vaccine-bot>https://github.com/tynick/covid-vaccine-bot</a></p><p>And the source code for my fork, which is what we&rsquo;re talking about for the rest of this writeup, is here: <a href=https://github.com/charles-m-knox/covid-vaccine-bot>https://github.com/charles-m-knox/covid-vaccine-bot</a></p><p>You can see an open PR between the two repositories here - this PR will remain open for illustrative purposes: <a href=https://github.com/tynick/covid-vaccine-bot/pull/1>https://github.com/tynick/covid-vaccine-bot/pull/1</a></p><h2 id=getting-started>Getting Started<a hidden class=anchor aria-hidden=true href=#getting-started>#</a></h2><p>This setup requires Docker, Docker compose, and optionally, GNU Make.</p><ul><li>If you don&rsquo;t have Docker, visit <a href=https://get.docker.com>get.docker.com</a> and follow the install steps in the comments at the top of the file<ul><li>Helpful advice if you can&rsquo;t find it: It will be something like <code>curl &lt;script></code> followed by <code>sh get-docker.sh</code></li></ul></li><li>If you don&rsquo;t have Docker compose, visit the <a href=https://docs.docker.com/compose/install/>official installation instructions</a> page for compose.</li><li>If you don&rsquo;t have GNU Make, or are not sure how to check if you have it, simply run the command <code>make -h</code> in your terminal. You should see some help text print out in your terminal.<ul><li>If you definitely don&rsquo;t have it, installation steps vary from platform, but if you&rsquo;re on a system like Ubuntu you can run <code>sudo apt install make</code> - see <a href=https://askubuntu.com/questions/161104/how-do-i-install-make#272020>here</a>.</li></ul></li></ul><p>First, make a copy of <code>.env.sample.env</code> into the file <code>.env</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cp .env.sample.env .env
</code></pre></div><p>Modify the values in it to correspond to your Slack and Twilio configuration - if you&rsquo;re not using one of the services such as Twilio, you can leave its values blank:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>SLACK_WEBHOOK_URL<span style=color:#f92672>=</span>https://hooks.slack.com/services/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
TWILIO_ACCOUNT_SID<span style=color:#f92672>=</span>xyz
TWILIO_AUTH_TOKEN<span style=color:#f92672>=</span>xyz
TWILIO_TARGET_NUMBER<span style=color:#f92672>=</span>+15555555555
TWILIO_SOURCE_NUMBER<span style=color:#f92672>=</span>+15555555555
</code></pre></div><blockquote><p><em>Note: Do not use quotes. Also, that&rsquo;s not a real Slack webhook, even though it looks like one.</em></p></blockquote><p>Next, if you have <code>make</code> installed, run the commands:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>make pull <span style=color:#75715e># this will fail to pull the vaccine-bot image, that&#39;s expected - building it next</span>
make build-image
make run
make logs <span style=color:#75715e># optional: will follow logs</span>
</code></pre></div><p>If you don&rsquo;t have <code>make</code>, that&rsquo;s OK - the bash commands that it runs are contained in the <code>Makefile</code> and you can still do everything as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker-compose pull <span style=color:#75715e># this will fail to pull the vaccine-bot image, that&#39;s expected - building it next</span>
docker build -t covid-vaccine-bot:latest .
docker-compose up -d
docker-compose logs -f <span style=color:#75715e># follows logs</span>
</code></pre></div><h3 id=making-sense-of-the-log-output>Making sense of the log output<a hidden class=anchor aria-hidden=true href=#making-sense-of-the-log-output>#</a></h3><p>Take a look at the below logs, which are captured from running <code>docker-compose logs -f</code> (or <code>make logs</code> if you&rsquo;re using the <code>Makefile</code>). This is fairly normal. The following is happening, in order:</p><ul><li>The COVID vaccine bot is running, and is trying to make a request to the volunteer website.</li><li>The COVID vaccine bot&rsquo;s requests are failing (hence why we see exceptions occurring), because the <code>tor-privoxy</code> service hasn&rsquo;t started yet.</li><li>The <code>tor-privoxy</code> service finally starts up, as indicated by the fact that we see messages coming from the service.</li><li>The COVID vaccine bot starts to succeed, because the Tor connection has been established successfully.</li></ul><blockquote><p><em>Note: Tor will always take a few moments to start up. This is because it is creating and securing a circuit (as well as a couple other things), which is a set of 3 networked devices in the Tor network that the <code>tor-privoxy</code> service will make its requests through. You can see this with the Tor browser on startup too.</em></p></blockquote><pre><code>covid-vaccine-bot    | During handling of the above exception, another exception occurred:
covid-vaccine-bot    |
covid-vaccine-bot    | Traceback (most recent call last):
covid-vaccine-bot    |   File &quot;/src/covid-vaccine-bot.py&quot;, line 66, in &lt;module&gt;
covid-vaccine-bot    |     vaccine_site_info = get_site(site_url)
covid-vaccine-bot    |   File &quot;/src/covid-vaccine-bot.py&quot;, line 58, in get_site
covid-vaccine-bot    |     response = requests.get(url, headers=headers)
covid-vaccine-bot    |   File &quot;/usr/local/lib/python3.9/site-packages/requests/api.py&quot;, line 76, in get
covid-vaccine-bot    |     return request('get', url, params=params, **kwargs)
covid-vaccine-bot    |   File &quot;/usr/local/lib/python3.9/site-packages/requests/api.py&quot;, line 61, in request
covid-vaccine-bot    |     return session.request(method=method, url=url, **kwargs)
covid-vaccine-bot    |   File &quot;/usr/local/lib/python3.9/site-packages/requests/sessions.py&quot;, line 542, in request
covid-vaccine-bot    |     resp = self.send(prep, **send_kwargs)
covid-vaccine-bot    |   File &quot;/usr/local/lib/python3.9/site-packages/requests/sessions.py&quot;, line 655, in send
covid-vaccine-bot    |     r = adapter.send(request, **kwargs)
covid-vaccine-bot    |   File &quot;/usr/local/lib/python3.9/site-packages/requests/adapters.py&quot;, line 510, in send
covid-vaccine-bot    |     raise ProxyError(e, request=request)
covid-vaccine-bot    | requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.handsonphoenix.org', port=443): Max retries exceeded with url: /opportunity/a0N1J00000QGgU1UAL (Caused by ProxyError('Cannot connect to proxy.', OSError('Tunnel connection failed: 503 Forwarding failure')))
tor-privoxy          |
tor-privoxy          |  * /proc is already mounted
tor-privoxy          |  * /run/openrc: creating directory
tor-privoxy          |  * /run/lock: creating directory
tor-privoxy          |  * /run/lock: correcting owner
tor-privoxy          |  * Starting privoxy ... [ ok ]
tor-privoxy          |  * Setting up Tor control relay ... [ ok ]
tor-privoxy          |  * /var/lib/tor: correcting owner
tor-privoxy          |  * /run/tor: creating directory
tor-privoxy          |  * /run/tor: correcting owner
tor-privoxy          |  * Starting tor ... [ ok ]
tor-privoxy          |    OpenRC 0.39.2.7e1d41d609 is starting up Linux 5.8.0-44-generic (x86_64) [DOCKER]
tor-privoxy          |
tor-privoxy          |  * Caching service dependencies ... [ ok ]
covid-vaccine-bot    | getting site...
covid-vaccine-bot    | site retrieved...
covid-vaccine-bot    | nothing was available
covid-vaccine-bot    | getting site...
covid-vaccine-bot    | site retrieved...
covid-vaccine-bot    | There is an opening at State Farm Stadium. Check https://www.handsonphoenix.org/opportunity/a0N1J00000NW4CHUA1 for more info.
</code></pre><h2 id=architecture>Architecture<a hidden class=anchor aria-hidden=true href=#architecture>#</a></h2><p><img src=https://raw.githubusercontent.com/charles-m-knox/covid-vaccine-bot/master/docs/architecture.png alt="Architecture diagram showing the services in this repository"></p><p>The vaccine bot relies on the <code>tor-privoxy</code> service being alive in order to make its outbound requests, including Slack and Twilio.</p><blockquote><p><em>Note: It&rsquo;s posible Twilio may reject requests from behind the Tor network. I haven&rsquo;t tested it, but Slack appears to work.</em></p></blockquote><h3 id=why-use-tor-what-is-it>Why use Tor? What is it?<a hidden class=anchor aria-hidden=true href=#why-use-tor-what-is-it>#</a></h3><p>If you aren&rsquo;t familiar with <a href=https://www.torproject.org/>Tor</a>, you should take a moment to read and understand what it is. I&rsquo;ll try and summarize.</p><p>For all intents and purposes, Tor is a couple things:</p><ul><li>It&rsquo;s a couple thousand systems run by regular people like you and I, or run by corporations or other entities.</li><li>It&rsquo;s a protocol for taking your network requests and bouncing them around those thousands of systems across the world, to form a &ldquo;circuit&rdquo;.</li><li>It is also a means to access <em>hidden services</em>, or <em>Onion sites</em>, which are long URLs that differ from a typical <code>xyz.com</code> website: <code>3g2upl4pq6kufc4m.onion</code> - this is the <a href=https://duckduckgo.com>DuckDuckGo</a> hidden service, for example.<ul><li>Most hidden services have much longer names.</li><li>Hidden services are more or less randomly generated names (there is a lot of cryptography behind it).</li><li>Some hidden services, like Facebook, used brute force to randomly generate hidden service names until they got one they like: <code>facebookcorewwwi.onion</code></li></ul></li></ul><p>Tor helps you become a bit more &ldquo;anonymous&rdquo; on the web. Normally, when you visit a webpage, the traffic first gets relayed by your internet service provider (such as Cox or Comcast), out to the world wide web, and to the destination. When you visit Tor, the traffic does technically also go through your ISP, but there are so many layers of cryptography and network trickery at work that they have no realistic way of knowing what you&rsquo;re doing, and effectively, they cannot monitor you.</p><p>However, simply proxying requests through Tor (like we are in this project) will <strong>NOT</strong> make you anonymous on the web. There&rsquo;s so much more to it than that.</p><p>In order to be anonymous in the real world, you might first try putting on a face covering. If you&rsquo;re the only person wearing a face covering in public, you&rsquo;re not really anonymous - you&rsquo;re actually unique, because you&rsquo;re sticking out like a sore thumb. Just because your face isn&rsquo;t visible, it <em>doesn&rsquo;t make you anonymous</em>.</p><p>Let&rsquo;s take the analogy a bit further. Suppose you are wearing a face covering, and <em>everyone else around you</em> is <em>also</em> wearing a face covering. Suddenly, your anonymity has increased.</p><h3 id=using-this-tor-proxy-will-make-me-anonymous-now-mission-accomplished-right>Using this Tor proxy will make me anonymous now! Mission accomplished. Right?<a hidden class=anchor aria-hidden=true href=#using-this-tor-proxy-will-make-me-anonymous-now-mission-accomplished-right>#</a></h3><p>Not exactly. When our requests are proxied through Tor in this setup, we aren&rsquo;t really taking proper steps to &ldquo;blend in with the crowd&rdquo; by any means.</p><p><strong>The only reason Tor comes in handy in this architecture is to grant us a different IP address.</strong></p><p>Effectively, we could replace the Tor Docker service in this architecture with a VPN, and it would actually be <em>better</em>. However, for the sake of expediency, and for the sake of advocating the use of Tor, I decided to shoehorn it into this project. <strong>You should not use Tor if you don&rsquo;t have to.</strong> People in the real world depend on Tor for their livelihood, and other people dedicate their time to offering their devices to others out of the goodness of their hearts.</p><h3 id=so-how-do-i-do-anything-on-the-internet-without-being-tracked-online>So how do I do anything on the internet without being tracked online?<a hidden class=anchor aria-hidden=true href=#so-how-do-i-do-anything-on-the-internet-without-being-tracked-online>#</a></h3><p>First off, let&rsquo;s agree on something: Just because you might &ldquo;have nothing to hide&rdquo;, doesn&rsquo;t mean that you &ldquo;should expose everything you do online to everyone&rdquo;. That&rsquo;s a big discussion in and of itself for another time.</p><p>In order to actually be anonymous online and browse the web (via a web browser), and following our analogy from earlier, everyone has to:</p><ul><li>Hide their face with a good face covering.</li><li>Have the same physique.</li><li>Wear the same clothing.</li><li>Walk the same way.</li><li>Talk to no one on the way to the destination.</li><li>Make no indication of where you&rsquo;re going to anyone watching until you&rsquo;re at your destination.</li></ul><p><strong>All of this is done for you with the <a href=https://www.torproject.org/download/>Tor browser</a>.</strong></p><p>The Tor browser should not be reconfigured <strong>at all</strong> from its defaults. By assimilating yourself into the masses, you have the ability to go where you want to go without the feeling of being watched, tracked, or potentially regretting clicking on an ad or page you didn&rsquo;t mean to click. You can explore that rabbit hole without fear of becoming targeted by ads.</p><p>I won&rsquo;t be writing an in-depth guide on Tor here, but there are lots of resources online that can help you learn.</p><h2 id=what-are-the-different-fileschanges-in-this-repository-compared-to-the-original>What are the different files/changes in this repository, compared to the original?<a hidden class=anchor aria-hidden=true href=#what-are-the-different-fileschanges-in-this-repository-compared-to-the-original>#</a></h2><h3 id=added-dockerfile>Added: Dockerfile<a hidden class=anchor aria-hidden=true href=#added-dockerfile>#</a></h3><p>The <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/Dockerfile>Dockerfile</a> contains a standard automation for (somewhat) efficiently building the Python-based Docker image for this project. I definitely recommend you read the comments in the Dockerfile - I tried to annotate things to be as helpful as possible.</p><h3 id=added-docker-composeyml>Added: <code>docker-compose.yml</code><a hidden class=anchor aria-hidden=true href=#added-docker-composeyml>#</a></h3><p>The <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/docker-compose.yml><code>docker-compose.yml</code></a> file is very important - in it, it contains two services, which are just containers that are configured to work together:</p><ul><li>the <code>tor-privoxy</code> service, discussed above</li><li>the <code>covid-vaccine-bot</code> service itself</li></ul><p>Take a look at this file and read each of my comments. Hopefully you&rsquo;ll learn something new. <em>Note: this file might be out of sync with master, make sure to check <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/docker-compose.yml><code>docker-compose.yml</code></a> for differences before using this somewhere else!</em> üôÇ</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3.7&#39;</span>
<span style=color:#f92672>services</span>:
  <span style=color:#f92672>tor-privoxy</span>:
    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>tor-privoxy</span>
    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>dockage/tor-privoxy:latest</span>
    <span style=color:#f92672>ports</span>:                        <span style=color:#75715e># by using &#34;127.0.0.1:&lt;external_port&gt;:&lt;internal_port&gt;&#34;, we restrict access to this Docker container to this system only</span>
      - <span style=color:#e6db74>&#34;127.0.0.1:9060:9050&#34;</span>     <span style=color:#75715e># Tor proxy</span>
      - <span style=color:#e6db74>&#34;127.0.0.1:9061:9051&#34;</span>     <span style=color:#75715e># Tor control port (not needed for this project)</span>
      - <span style=color:#e6db74>&#34;127.0.0.1:8118:8118&#34;</span>     <span style=color:#75715e># Privoxy - a proxy with built-in ad-blocking lists</span>
    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
    <span style=color:#f92672>logging</span>:                      <span style=color:#75715e># keeps logging to a max of ~2mb</span>
      <span style=color:#f92672>driver</span>: <span style=color:#e6db74>&#34;json-file&#34;</span>
      <span style=color:#f92672>options</span>:
        <span style=color:#f92672>max-size</span>: <span style=color:#e6db74>&#34;200k&#34;</span>
        <span style=color:#f92672>max-file</span>: <span style=color:#e6db74>&#34;10&#34;</span>
  <span style=color:#f92672>covid-vaccine-bot</span>:
    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>covid-vaccine-bot</span>
    <span style=color:#75715e># network_mode: service:tor-privoxy                   # this will not work! you have to use the proxy</span>
    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>covid-vaccine-bot:latest</span>
    <span style=color:#f92672>environment</span>:                                      <span style=color:#75715e># reads from the .env file located in this directory</span>
      - <span style=color:#ae81ff>HTTP_PROXY=http://tor-privoxy:8118           </span> <span style=color:#75715e># the name of the tor-privoxy service resolves, thanks to docker&#39;s DNS</span>
      - <span style=color:#ae81ff>HTTPS_PROXY=http://tor-privoxy:8118          </span> <span style=color:#75715e># the name of the tor-privoxy service resolves, thanks to docker&#39;s DNS</span>
      - <span style=color:#ae81ff>SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}       </span> <span style=color:#75715e># the .env file is automatically read by docker compose</span>
      - <span style=color:#ae81ff>TWILIO_ACCOUNT_SID=${TWILIO_ACCOUNT_SID}     </span> <span style=color:#75715e># the .env file is automatically read by docker compose</span>
      - <span style=color:#ae81ff>TWILIO_AUTH_TOKEN=${TWILIO_AUTH_TOKEN}       </span> <span style=color:#75715e># the .env file is automatically read by docker compose</span>
      - <span style=color:#ae81ff>TWILIO_TARGET_NUMBER=${TWILIO_TARGET_NUMBER} </span> <span style=color:#75715e># the .env file is automatically read by docker compose</span>
      - <span style=color:#ae81ff>TWILIO_SOURCE_NUMBER=${TWILIO_SOURCE_NUMBER} </span> <span style=color:#75715e># the .env file is automatically read by docker compose</span>
    <span style=color:#f92672>volumes</span>:
      - <span style=color:#ae81ff>./covid-vaccine-bot.py:/src/covid-vaccine-bot.py </span> <span style=color:#75715e># allows you to restart the container instead of rebuilding the image when changing the source code</span>
    <span style=color:#f92672>tty</span>: <span style=color:#66d9ef>true</span>                 <span style=color:#75715e># if tty is not set to true, python logs will not show up in real time</span>
    <span style=color:#f92672>depends_on</span>:
      - <span style=color:#ae81ff>tor-privoxy          </span> <span style=color:#75715e># wait for the tor-privoxy service to start</span>
    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
    <span style=color:#f92672>logging</span>:                  <span style=color:#75715e># keeps logging to a max of ~2mb</span>
      <span style=color:#f92672>driver</span>: <span style=color:#e6db74>&#34;json-file&#34;</span>
      <span style=color:#f92672>options</span>:
        <span style=color:#f92672>max-size</span>: <span style=color:#e6db74>&#34;200k&#34;</span>
        <span style=color:#f92672>max-file</span>: <span style=color:#e6db74>&#34;10&#34;</span>

</code></pre></div><h3 id=added-dockerignore-and-gitignore>Added: <code>.dockerignore</code> and <code>.gitignore</code><a hidden class=anchor aria-hidden=true href=#added-dockerignore-and-gitignore>#</a></h3><p>The <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/.dockerignore><code>.dockerignore</code></a> file is similar to <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/.gitignore><code>.gitignore</code></a>, if you&rsquo;re familiar with it:</p><ul><li><code>.dockerignore</code> instructs the <code>docker build</code> command to ignore files that match the patterns specified in this file.<ul><li>This is useful because sometimes your repository contains large files that your Docker image might not even need in the first place.</li></ul></li><li><code>.gitignore</code> instructs git to exclude specified files; in this case, we ignore the <code>.env</code> file because it contains secret Slack webhooks and account credentials for Twilio.</li></ul><h3 id=modified-covid-vaccine-botpy>Modified: <code>covid-vaccine-bot.py</code><a hidden class=anchor aria-hidden=true href=#modified-covid-vaccine-botpy>#</a></h3><p>I added some simple logic to handle environment variables in <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/covid-vaccine-bot.py><code>covid-vaccine-bot.py</code></a>, which are defined in the <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/.env><code>.env</code></a> file and automatically propagated into the container at runtime via Docker compose. Additionally, my Python auto-formatter did some code reformatting.</p><p>Specifically, <code>os.environ.get('ENV_VARIABLE', '')</code> is good practice, because if you just try to access a Python dictionary by a key that doesn&rsquo;t exist, it throws an exception:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>os<span style=color:#f92672>.</span>environ[<span style=color:#e6db74>&#39;NON_EXISTENT_KEY&#39;</span>] <span style=color:#75715e># throws exception, halts your code</span>
os<span style=color:#f92672>.</span>environ<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;NON_EXISTENT_KEY&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>) <span style=color:#75715e># simply returns &#39;&#39;, much better</span>
</code></pre></div><h3 id=added-makefile>Added: <code>Makefile</code><a hidden class=anchor aria-hidden=true href=#added-makefile>#</a></h3><p>The <a href=https://github.com/charles-m-knox/covid-vaccine-bot/blob/master/Makefile><code>Makefile</code></a> is pretty simple. If you&rsquo;re not familiar with them, Makefiles allow developers to put frequently used commands/automated tasks into a single place. One of the best features about it is that you can use tab auto-completion out of the box by just simply defining a section, such as:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Makefile data-lang=Makefile><span style=color:#a6e22e>build-image</span><span style=color:#f92672>:</span>
	docker build -t covid-vaccine-bot:latest .
</code></pre></div><p>And you can execute this command by running:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>make build-image  <span style=color:#75715e># try tab completing as you type</span>
</code></pre></div><h2 id=final-notes>Final notes<a hidden class=anchor aria-hidden=true href=#final-notes>#</a></h2><p>I&rsquo;ll reiterate: <a href=https://tynick.com>Tynick</a> did a fantastic job with this project - he was able to automate a tool to get multiple people a COVID vaccine! We both had a great time expanding and bringing this tool to our friends, and we feel honored to have helped get people vaccinated AND volunteering.</p><p>I hope you&rsquo;ve found this writeup informative. If you have any questions, visit <a href=https://charlesmknox.com>charlesmknox.com</a> and use any of the social contact URLs on the landing page. You can also visit <a href=https://charlesmknox.com/about>charlesmknox.com/about</a> to find ways to support me.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://charlesmknox.com/tags/coding/>coding</a></li><li><a href=https://charlesmknox.com/tags/software/>software</a></li><li><a href=https://charlesmknox.com/tags/tech/>tech</a></li><li><a href=https://charlesmknox.com/tags/automation/>automation</a></li><li><a href=https://charlesmknox.com/tags/python/>python</a></li><li><a href=https://charlesmknox.com/tags/tor/>tor</a></li><li><a href=https://charlesmknox.com/tags/privacy/>privacy</a></li><li><a href=https://charlesmknox.com/tags/docker/>docker</a></li><li><a href=https://charlesmknox.com/tags/collaboration/>collaboration</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share How we used automation to get COVID vaccines early on twitter" href="https://twitter.com/intent/tweet/?text=How%20we%20used%20automation%20to%20get%20COVID%20vaccines%20early&url=https%3a%2f%2fcharlesmknox.com%2ftech%2fsoftware%2fgeneral%2fcovid-vaccine-bot%2f&hashtags=coding%2csoftware%2ctech%2cautomation%2cpython%2ctor%2cprivacy%2cdocker%2ccollaboration"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How we used automation to get COVID vaccines early on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcharlesmknox.com%2ftech%2fsoftware%2fgeneral%2fcovid-vaccine-bot%2f&title=How%20we%20used%20automation%20to%20get%20COVID%20vaccines%20early&summary=How%20we%20used%20automation%20to%20get%20COVID%20vaccines%20early&source=https%3a%2f%2fcharlesmknox.com%2ftech%2fsoftware%2fgeneral%2fcovid-vaccine-bot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How we used automation to get COVID vaccines early on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fcharlesmknox.com%2ftech%2fsoftware%2fgeneral%2fcovid-vaccine-bot%2f&title=How%20we%20used%20automation%20to%20get%20COVID%20vaccines%20early"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How we used automation to get COVID vaccines early on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcharlesmknox.com%2ftech%2fsoftware%2fgeneral%2fcovid-vaccine-bot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How we used automation to get COVID vaccines early on whatsapp" href="https://api.whatsapp.com/send?text=How%20we%20used%20automation%20to%20get%20COVID%20vaccines%20early%20-%20https%3a%2f%2fcharlesmknox.com%2ftech%2fsoftware%2fgeneral%2fcovid-vaccine-bot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How we used automation to get COVID vaccines early on telegram" href="https://telegram.me/share/url?text=How%20we%20used%20automation%20to%20get%20COVID%20vaccines%20early&url=https%3a%2f%2fcharlesmknox.com%2ftech%2fsoftware%2fgeneral%2fcovid-vaccine-bot%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://charlesmknox.com>Charles M. Knox</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>