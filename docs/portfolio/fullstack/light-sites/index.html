<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Light Sites | Charles M. Knox</title><meta name=keywords content="portfolio"><meta name=description content="Portfolio item: Light Sites, a Go-powered, no-JavaScript, template-friendly, lightweight  markdown parser and server. It aims to combine Bootstrap CSS (and other customizable CSS if you choose) with Markdown with minimal configuration. "><meta name=author content="Charles M. Knox"><link rel=canonical href=https://charlesmknox.com/portfolio/fullstack/light-sites/><link href=/assets/css/stylesheet.min.d5ed00cc3354e23e152bb38a498ff671149f8897e79c2d2aa0dcf2d345ca757d.css integrity="sha256-1e0AzDNU4j4VK7OKSY/2cRSfiJfnnC0qoNzy00XKdX0=" rel="preload stylesheet" as=style><link rel=icon href=https://charlesmknox.com/TechLife23_centered-position-14x2_no-bg-shadow.png><link rel=icon type=image/png sizes=16x16 href=https://charlesmknox.com/TechLife23_centered-position-14x2_no-bg-shadow.png><link rel=icon type=image/png sizes=32x32 href=https://charlesmknox.com/TechLife23_centered-position-14x2_no-bg-shadow.png><link rel=apple-touch-icon href=https://charlesmknox.com/TechLife23_centered-position-14x2_no-bg-shadow.png><link rel=mask-icon href=https://charlesmknox.com/TechLife23_centered-position-14x2_no-bg-shadow.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><meta property="og:title" content="Light Sites"><meta property="og:description" content="Portfolio item: Light Sites, a Go-powered, no-JavaScript, template-friendly, lightweight  markdown parser and server. It aims to combine Bootstrap CSS (and other customizable CSS if you choose) with Markdown with minimal configuration. "><meta property="og:type" content="article"><meta property="og:url" content="https://charlesmknox.com/portfolio/fullstack/light-sites/"><meta property="article:published_time" content="2020-12-18T00:00:00+00:00"><meta property="article:modified_time" content="2020-12-18T00:00:00+00:00"><meta property="og:site_name" content="Charles M. Knox"><meta name=twitter:card content="summary"><meta name=twitter:title content="Light Sites"><meta name=twitter:description content="Portfolio item: Light Sites, a Go-powered, no-JavaScript, template-friendly, lightweight  markdown parser and server. It aims to combine Bootstrap CSS (and other customizable CSS if you choose) with Markdown with minimal configuration. "><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Portfolio","item":"https://charlesmknox.com/portfolio/"},{"@type":"ListItem","position":3,"name":"Light Sites","item":"https://charlesmknox.com/portfolio/fullstack/light-sites/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Light Sites","name":"Light Sites","description":"Light Sites is a Go-powered, no-JavaScript, template-friendly, lightweight markdown parser and server. It aims to combine Bootstrap CSS (and other customizable CSS if you choose) …","keywords":["portfolio"],"articleBody":"Light Sites is a Go-powered, no-JavaScript, template-friendly, lightweight markdown parser and server. It aims to combine Bootstrap CSS (and other customizable CSS if you choose) with Markdown with minimal configuration.\nAbout the project This was written as a coding project. I wanted to create a minimalistic server to parse markdown files and manipulate them according to some essential customizations. It’s more of reference code than an actual production-ready solution. For the purposes of a proper website deployment, I recommend Hugo.\nGo itself also has templating capabilities built in that are more powerful than Light Sites, offering conditionals, looping, and more efficiencies and optimizations than I cared to put into Light Sites.\nStatic website generators are preferred over a live API. I did not architect this program to statically generate content, but I should have. Instead, it acts as a live web server that will require occasional CPU cycles on whatever system you’re running.\nExample You can see a full example here: https://github.com/charles-m-knox/light-sites-example\nAt this time, I don’t provide a live version of the site because it requires uptime. The example screenshots below should be all you really need.\nDeployment To deploy the example Light Sites repository, use a lean Docker compose file:\nversion: \"3\" services: light-sites-cmk-blog: container_name: light-sites-cmk-blog hostname: light-sites-cmk-blog image: light-sites:latest volumes: - ./cmk-blog/src:/src - ./cmk-blog/config.yml:/config.yml:ro ports: - \"127.0.0.1:16841:16841\" restart: unless-stopped user: \"1000:1000\" logging: driver: \"json-file\" options: max-size: \"200k\" max-file: \"10\" Screenshots Here are a couple screenshots from the example deployment.\nLanding page The landing page is a markdown document found here:\nhttps://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/index.md\n\nBlog post This blog post page is a markdown document found here:\nhttps://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/ls/blog/software/bash/backup-a-folder-in-bash.md\n\nFurther reading The remainder of this blog post is essentially a copy-paste of the documentation from the readme at Light Sites GitHub repo README.md file.\nAbout Light Sites was created to bring together a few different niches into a single package:\n No-JavaScript, inspired by:  The Tor Browser, and how JavaScript is used to violate privacy when browsing the web - we should be able to acquire all the information we need from a website without running JS The nojs.club   Lightweight, Go-based codebase Docker-first deployment Markdown-based static blog tool HTML Template rendering engine Slightly opinionated preference to a common responsiveBootstrap layout  Due to its youth, it only boasts a couple features, but simple templating is probably its most useful feature. See templating for more info.\nCode unit test coverage is currently at 96.7% (for packages with code worth testing).\nUsage Simply create an index.md file in ./src/content. The only requirement is that the markdown document requires the  tag to be defined with a title=\"Home\" attribute (change as desired). Everything else can be normal markdown.\nContinue to the deployment steps next.\nDeployment You need:\n GNU Make Docker or Go 1.15  For Docker, run:\nmake build # make gobuild, if using Go make run # make gorun, if using Go Finally, navigate to http://localhost:8099/index.html to view src/content/index.md in its rendered form.\n *Note: If you change the configured listenAddr in config.yml, or want to change the port mapping in the docker run command, please update the Makefile accordingly.\n To add new documents, ensure that the  tag is placed preferably at the top of your Markdown document.\nConfiguration Edit config.yml to meet your needs.\nSpecial Tags/Behavior There are a few custom HTML tags that are processed by the Light Sites rendering engine.\nSpecial Behavior Route Prefix, and index.html If navigating to the root URL, i.e. http://localhost:8099/, Light Sites will act as if the user navigated to http://localhost:8099/index.html (the .html suffix will change depending on config.yml). If, in config.yml, routing.routePrefix is set to /content/, for example, then navigating to http://localhost:8099/content/ will yield the same result, but http://localhost:8099/ will yield 404.\nAuto-refresh Every 30 minutes (configurable), the documents are reloaded. This means that documents are served from memory for fastest performance, but are potentially outdated if a recent change was made.\nImportant Tags Before spending a lot of time creating markdown files, take a look at the following tags and see if they are useful.\nattributes Tag (Required) The  tag must be placed in the first line of the document. Currently, the title attribute must be set or else the document may not function correctly. Example:\n title=\"Hello World!\" directory Tag Use the  tag to render links to all documents in the src/content directory as a ... tree. To hide a document, prefix it with a ., such as src/content/.page2.md. To visit a hidden page, visit http://localhost:8099/.page2.html. Traversing folders is supported. This behavior may change in the future.\nTo avoid issues and ensure smoothest functionality, ensure that your config.yml specifies directories.documents as src/content for example, and NOT as ./src/content.\ntemplate Tag Templating is the most useful part of Light Sites. It allows you to reuse HTML elements and pass-in custom variables. Example:\ntemplate file=\"alert.html\" alert-text=\"Heads up!\"template And the contents of src/templates/alert.html are:\ndiv class=\"alert alert-primary\" {{alert-text}} div {{alert-text}} wil render the text Heads up! when the static HTML document is produced.\nRecursive/nested templating is currently not tested and likely does not work.\nBehind the Scenes Tags The following tags are all handled by the Light Sites engine, and do not require any interaction. Consider this a behavioral documentation section rather than actual instructions.\ntitle Tag The Page Title tag is created automatically and inserted into the  node. Its value is equivalent to whatever you specify for .\nbody Tag When the  tag is encountered, its first child is given a parent of:\nmain role=\"main\" div class=\"container\" div class=\"row\" div class=\"col-lg-12\" div div div main For example, if at first the HTML content looks like this…\nbody p Some text p body … it will become:\nbody main role=\"main\" div class=\"container\" div class=\"row\" div class=\"col-lg-12\" p Some text p div div div main body It is worth noting that the markdown-to-HTML engine automatically produces a  tag, whose children are the rendered HTML contents of your markdown document. You don’t need to worry about this behavior at all, but it helps to understand how the markdown document is manipulated to the result that you see on screen.\nhead Tag When encountered, the  tag is given a standard Bootstrap CSS import, using  with a few other attributes. Additionally, it imports /assets/custom.css the same way. These are configurable in the config.yml.\ntable Tag  tags are updated to use Bootstrap’s responsive table classes, as well as adding zebra striping and active mouse hover highlighting to row elements. Tables are always wrapped in a  element. Currently, this behavior is not configurable.\nimg Tag All  tags should be given a max-width of 100%, as shown in the default config.yml. This is to prevent occasional issues where the image may not respect the width of the parent container(s).\nSource code View the source code here on GitHub.\nFinal note Thanks for reading!\n","wordCount":"1141","inLanguage":"en","datePublished":"2020-12-18T00:00:00Z","dateModified":"2020-12-18T00:00:00Z","author":{"@type":"Person","name":"Charles M. Knox"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://charlesmknox.com/portfolio/fullstack/light-sites/"},"publisher":{"@type":"Organization","name":"Charles M. Knox","logo":{"@type":"ImageObject","url":"https://charlesmknox.com/TechLife23_centered-position-14x2_no-bg-shadow.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://charlesmknox.com accesskey=h title="Charles M. Knox (Alt + H)"><img src=/TechLife23_centered-position-14x2_full-bg-shadow.png alt=logo aria-label=logo height=35>Charles M. Knox</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://charlesmknox.com/about title=About><span>About</span></a></li><li><a href=https://charlesmknox.com/categories/portfolio title=Portfolio><span>Portfolio</span></a></li><li><a href=https://charlesmknox.com/supporters title=Supporters><span>Supporters</span></a></li><li><a href=https://charlesmknox.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://charlesmknox.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://charlesmknox.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://charlesmknox.com/ title=Home><span>Home</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Light Sites</h1><div class=post-description>Portfolio item: Light Sites, a Go-powered, no-JavaScript, template-friendly, lightweight markdown parser and server. It aims to combine Bootstrap CSS (and other customizable CSS if you choose) with Markdown with minimal configuration.</div><div class=post-meta>December 18, 2020&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Charles M. Knox</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#about-the-project aria-label="About the project">About the project</a></li><li><a href=#example aria-label=Example>Example</a><ul><li><a href=#deployment aria-label=Deployment>Deployment</a></li><li><a href=#screenshots aria-label=Screenshots>Screenshots</a><ul><li><a href=#landing-page aria-label="Landing page">Landing page</a></li><li><a href=#blog-post aria-label="Blog post">Blog post</a></li></ul></li></ul></li><li><a href=#further-reading aria-label="Further reading">Further reading</a></li><li><a href=#about aria-label=About>About</a></li><li><a href=#usage aria-label=Usage>Usage</a></li><li><a href=#deployment-1 aria-label=Deployment>Deployment</a></li><li><a href=#configuration aria-label=Configuration>Configuration</a></li><li><a href=#special-tagsbehavior aria-label="Special Tags/Behavior">Special Tags/Behavior</a><ul><li><a href=#special-behavior aria-label="Special Behavior">Special Behavior</a><ul><li><a href=#route-prefix-and-indexhtml aria-label="Route Prefix, and index.html">Route Prefix, and <code>index.html</code></a></li><li><a href=#auto-refresh aria-label=Auto-refresh>Auto-refresh</a></li></ul></li><li><a href=#important-tags aria-label="Important Tags">Important Tags</a><ul><li><a href=#attributes-tag-required aria-label="attributes Tag (Required)"><code>attributes</code> Tag (Required)</a></li><li><a href=#directory-tag aria-label="directory Tag"><code>directory</code> Tag</a></li><li><a href=#template-tag aria-label="template Tag"><code>template</code> Tag</a></li></ul></li><li><a href=#behind-the-scenes-tags aria-label="Behind the Scenes Tags">Behind the Scenes Tags</a><ul><li><a href=#title-tag aria-label="title Tag"><code>title</code> Tag</a></li><li><a href=#body-tag aria-label="body Tag"><code>body</code> Tag</a></li><li><a href=#head-tag aria-label="head Tag"><code>head</code> Tag</a></li><li><a href=#table-tag aria-label="table Tag"><code>table</code> Tag</a></li><li><a href=#img-tag aria-label="img Tag"><code>img</code> Tag</a></li></ul></li></ul></li><li><a href=#source-code aria-label="Source code">Source code</a></li><li><a href=#final-note aria-label="Final note">Final note</a></li></ul></div></details></div><div class=post-content><p>Light Sites is a Go-powered, no-JavaScript, template-friendly, lightweight markdown parser and server. It aims to combine Bootstrap CSS (and other customizable CSS if you choose) with Markdown with minimal configuration.</p><h2 id=about-the-project>About the project<a hidden class=anchor aria-hidden=true href=#about-the-project>#</a></h2><p>This was written as a coding project. I wanted to create a minimalistic server to parse markdown files and manipulate them according to some essential customizations. It&rsquo;s more of reference code than an actual production-ready solution. For the purposes of a proper website deployment, I recommend <a href=https://gohugo.io>Hugo</a>.</p><p>Go itself also <a href=https://golang.org/pkg/html/template/>has templating capabilities built in</a> that are more powerful than Light Sites, offering conditionals, looping, and more efficiencies and optimizations than I cared to put into Light Sites.</p><p>Static website generators are preferred over a live API. I did not architect this program to statically generate content, but I should have. Instead, it acts as a live web server that will require occasional CPU cycles on whatever system you&rsquo;re running.</p><h2 id=example>Example<a hidden class=anchor aria-hidden=true href=#example>#</a></h2><p>You can see a full example here: <a href=https://github.com/charles-m-knox/light-sites-example>https://github.com/charles-m-knox/light-sites-example</a></p><p>At this time, I don&rsquo;t provide a live version of the site because it <a href=#about-the-project>requires uptime</a>. The example screenshots below should be all you really need.</p><h3 id=deployment>Deployment<a hidden class=anchor aria-hidden=true href=#deployment>#</a></h3><p>To deploy the example Light Sites repository, use a lean <a href=https://github.com/charles-m-knox/light-sites-example/blob/main/docker-compose.yml>Docker compose file</a>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#34;3&#34;</span>
<span style=color:#f92672>services</span>:
  <span style=color:#f92672>light-sites-cmk-blog</span>:
    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>light-sites-cmk-blog</span>
    <span style=color:#f92672>hostname</span>: <span style=color:#ae81ff>light-sites-cmk-blog</span>
    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>light-sites:latest</span>
    <span style=color:#f92672>volumes</span>:
      - <span style=color:#ae81ff>./cmk-blog/src:/src</span>
      - <span style=color:#ae81ff>./cmk-blog/config.yml:/config.yml:ro</span>
    <span style=color:#f92672>ports</span>:
      - <span style=color:#e6db74>&#34;127.0.0.1:16841:16841&#34;</span>
    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
    <span style=color:#f92672>user</span>: <span style=color:#e6db74>&#34;1000:1000&#34;</span>
    <span style=color:#f92672>logging</span>:
      <span style=color:#f92672>driver</span>: <span style=color:#e6db74>&#34;json-file&#34;</span>
      <span style=color:#f92672>options</span>:
        <span style=color:#f92672>max-size</span>: <span style=color:#e6db74>&#34;200k&#34;</span>
        <span style=color:#f92672>max-file</span>: <span style=color:#e6db74>&#34;10&#34;</span>

</code></pre></div><h3 id=screenshots>Screenshots<a hidden class=anchor aria-hidden=true href=#screenshots>#</a></h3><p>Here are a couple screenshots from the example deployment.</p><h4 id=landing-page>Landing page<a hidden class=anchor aria-hidden=true href=#landing-page>#</a></h4><p>The landing page is a markdown document found here:</p><p><a href=https://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/index.md>https://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/index.md</a></p><p><a href=https://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/index.md><img loading=lazy src=https://raw.githubusercontent.com/charles-m-knox/light-sites-example/main/screenshots/index.png alt="Landing page"></a></p><h4 id=blog-post>Blog post<a hidden class=anchor aria-hidden=true href=#blog-post>#</a></h4><p>This blog post page is a markdown document found here:</p><p><a href=https://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/ls/blog/software/bash/backup-a-folder-in-bash.md>https://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/ls/blog/software/bash/backup-a-folder-in-bash.md</a></p><p><a href=https://github.com/charles-m-knox/light-sites-example/blob/main/cmk-blog/src/content/ls/blog/software/bash/backup-a-folder-in-bash.md><img loading=lazy src=https://raw.githubusercontent.com/charles-m-knox/light-sites-example/main/screenshots/blogpost.png alt="Blog post"></a></p><h2 id=further-reading>Further reading<a hidden class=anchor aria-hidden=true href=#further-reading>#</a></h2><p>The remainder of this blog post is essentially a copy-paste of the documentation from the readme at <a href=https://github.com/charles-m-knox/light-sites>Light Sites GitHub repo README.md file</a>.</p><h2 id=about>About<a hidden class=anchor aria-hidden=true href=#about>#</a></h2><p>Light Sites was created to bring together a few different niches into a single package:</p><ul><li>No-JavaScript, inspired by:<ul><li>The Tor Browser, and how JavaScript is used to violate privacy when browsing the web - we should be able to acquire all the information we need from a website without running JS</li><li>The <a href=https://nojs.club/>nojs.club</a></li></ul></li><li>Lightweight, Go-based codebase</li><li>Docker-first deployment</li><li>Markdown-based static blog tool</li><li>HTML Template rendering engine</li><li>Slightly opinionated preference to a common responsiveBootstrap layout</li></ul><p>Due to its youth, it only boasts a couple features, but simple templating is probably its most useful feature. See <a href=#template-tag>templating</a> for more info.</p><p>Code unit test coverage is currently at 96.7% (for packages with code worth testing).</p><h2 id=usage>Usage<a hidden class=anchor aria-hidden=true href=#usage>#</a></h2><p>Simply create an <code>index.md</code> file in <a href=https://github.com/charles-m-knox/light-sites/tree/main/src/content><code>./src/content</code></a>. The only requirement is that the markdown document requires the <a href=#attributes-tag-required><code>&lt;attributes></code></a> tag to be defined with a <code>title="Home"</code> attribute (change as desired). Everything else can be normal markdown.</p><p>Continue to the <a href=#deployment>deployment</a> steps next.</p><h2 id=deployment-1>Deployment<a hidden class=anchor aria-hidden=true href=#deployment-1>#</a></h2><p>You need:</p><ul><li>GNU Make</li><li>Docker or Go 1.15</li></ul><p>For Docker, run:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>make build <span style=color:#75715e># make gobuild, if using Go</span>
make run   <span style=color:#75715e># make gorun, if using Go</span>
</code></pre></div><p>Finally, navigate to <code>http://localhost:8099/index.html</code> to view <code>src/content/index.md</code> in its rendered form.</p><blockquote><p>*Note: If you change the configured <code>listenAddr</code> in <a href=https://github.com/charles-m-knox/light-sites/blob/main/config.yml><code>config.yml</code></a>, or want to change the port mapping in the <code>docker run</code> command, please update the Makefile accordingly.</p></blockquote><p>To add new documents, ensure that the <a href=#attributes-tag-required><code>&lt;attributes title="Hello World!">&lt;/attributes></code></a> tag is placed preferably at the top of your Markdown document.</p><h2 id=configuration>Configuration<a hidden class=anchor aria-hidden=true href=#configuration>#</a></h2><p>Edit <a href=https://github.com/charles-m-knox/light-sites/blob/main/config.yml><code>config.yml</code></a> to meet your needs.</p><h2 id=special-tagsbehavior>Special Tags/Behavior<a hidden class=anchor aria-hidden=true href=#special-tagsbehavior>#</a></h2><p>There are a few custom HTML tags that are processed by the Light Sites rendering engine.</p><h3 id=special-behavior>Special Behavior<a hidden class=anchor aria-hidden=true href=#special-behavior>#</a></h3><h4 id=route-prefix-and-indexhtml>Route Prefix, and <code>index.html</code><a hidden class=anchor aria-hidden=true href=#route-prefix-and-indexhtml>#</a></h4><p>If navigating to the root URL, i.e. <code>http://localhost:8099/</code>, Light Sites will act as if the user navigated to <code>http://localhost:8099/index.html</code> (the <code>.html</code> suffix will change depending on <a href=https://github.com/charles-m-knox/light-sites/blob/main/config.yml><code>config.yml</code></a>). If, in <a href=https://github.com/charles-m-knox/light-sites/blob/main/config.yml><code>config.yml</code></a>, <code>routing.routePrefix</code> is set to <code>/content/</code>, for example, then navigating to <code>http://localhost:8099/content/</code> will yield the same result, but <code>http://localhost:8099/</code> will yield <code>404</code>.</p><h4 id=auto-refresh>Auto-refresh<a hidden class=anchor aria-hidden=true href=#auto-refresh>#</a></h4><p>Every 30 minutes (configurable), the documents are reloaded. This means that documents are served from memory for fastest performance, but are potentially outdated if a recent change was made.</p><h3 id=important-tags>Important Tags<a hidden class=anchor aria-hidden=true href=#important-tags>#</a></h3><p>Before spending a lot of time creating markdown files, take a look at the following tags and see if they are useful.</p><h4 id=attributes-tag-required><code>attributes</code> Tag (Required)<a hidden class=anchor aria-hidden=true href=#attributes-tag-required>#</a></h4><p>The <code>&lt;attributes></code> tag must be placed in the first line of the document. Currently, the <code>title</code> attribute <strong>must be set</strong> or else the document may not function correctly. Example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#f92672>&lt;attributes</span> <span style=color:#a6e22e>title=</span><span style=color:#e6db74>&#34;Hello World!&#34;</span><span style=color:#f92672>&gt;&lt;/attributes&gt;</span>
</code></pre></div><h4 id=directory-tag><code>directory</code> Tag<a hidden class=anchor aria-hidden=true href=#directory-tag>#</a></h4><p>Use the <code>&lt;directory></code> tag to render links to all documents in the <code>src/content</code> directory as a <code>&lt;ul>&lt;li>...&lt;/li>&lt;/ul></code> tree. To hide a document, prefix it with a <code>.</code>, such as <code>src/content/.page2.md</code>. To visit a hidden page, visit <code>http://localhost:8099/.page2.html</code>. Traversing folders is supported. <em>This behavior may change in the future.</em></p><p>To avoid issues and ensure smoothest functionality, ensure that your <a href=https://github.com/charles-m-knox/light-sites/blob/main/config.yml><code>config.yml</code></a> specifies <code>directories.documents</code> as <code>src/content</code> for example, and NOT as <code>./src/content</code>.</p><h4 id=template-tag><code>template</code> Tag<a hidden class=anchor aria-hidden=true href=#template-tag>#</a></h4><p>Templating is the most useful part of Light Sites. It allows you to reuse HTML elements and pass-in custom variables. Example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>template</span> <span style=color:#a6e22e>file</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;alert.html&#34;</span> <span style=color:#a6e22e>alert-text</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Heads up!&#34;</span>&gt;&lt;/<span style=color:#f92672>template</span>&gt;
</code></pre></div><p>And the contents of <code>src/templates/alert.html</code> are:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;alert alert-primary&#34;</span>&gt;
	{{alert-text}}
&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></div><p><code>{{alert-text}}</code> wil render the text <code>Heads up!</code> when the static HTML document is produced.</p><p>Recursive/nested templating is currently not tested and likely does not work.</p><h3 id=behind-the-scenes-tags>Behind the Scenes Tags<a hidden class=anchor aria-hidden=true href=#behind-the-scenes-tags>#</a></h3><p>The following tags are all handled by the Light Sites engine, and do not require any interaction. Consider this a behavioral documentation section rather than actual instructions.</p><h4 id=title-tag><code>title</code> Tag<a hidden class=anchor aria-hidden=true href=#title-tag>#</a></h4><p>The <code>&lt;title>Page Title&lt;/title></code> tag is created automatically and inserted into the <code>&lt;head></code> node. Its value is equivalent to whatever you specify for <a href=#attributes-tag-required><code>&lt;attributes title="xyz"></code></a>.</p><h4 id=body-tag><code>body</code> Tag<a hidden class=anchor aria-hidden=true href=#body-tag>#</a></h4><p>When the <code>&lt;body></code> tag is encountered, its first child is given a parent of:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>role</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main&#34;</span>&gt;
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;row&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;col-lg-12&#34;</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>div</span>&gt;
&lt;/<span style=color:#f92672>main</span>&gt;
</code></pre></div><p>For example, if at first the HTML content looks like this&mldr;</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>body</span>&gt;
    &lt;<span style=color:#f92672>p</span>&gt;
        Some text
    &lt;/<span style=color:#f92672>p</span>&gt;
&lt;/<span style=color:#f92672>body</span>&gt;
</code></pre></div><p>&mldr; it will become:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>body</span>&gt;
    &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>role</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;row&#34;</span>&gt;
                &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;col-lg-12&#34;</span>&gt;
                    &lt;<span style=color:#f92672>p</span>&gt;
                        Some text
                    &lt;/<span style=color:#f92672>p</span>&gt;
                &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>main</span>&gt;
&lt;/<span style=color:#f92672>body</span>&gt;
</code></pre></div><p>It is worth noting that the markdown-to-HTML engine automatically produces a <code>&lt;body></code> tag, whose children are the rendered HTML contents of your markdown document. You don&rsquo;t need to worry about this behavior at all, but it helps to understand how the markdown document is manipulated to the result that you see on screen.</p><h4 id=head-tag><code>head</code> Tag<a hidden class=anchor aria-hidden=true href=#head-tag>#</a></h4><p>When encountered, the <code>&lt;head></code> tag is given a standard Bootstrap CSS import, using <code>&lt;link href="/assets/bootstrap.min.css></code> with a few other attributes. Additionally, it imports <code>/assets/custom.css</code> the same way. These are configurable in the <a href=https://github.com/charles-m-knox/light-sites/blob/main/config.yml><code>config.yml</code></a>.</p><h4 id=table-tag><code>table</code> Tag<a hidden class=anchor aria-hidden=true href=#table-tag>#</a></h4><p><code>&lt;table></code> tags are updated to use Bootstrap&rsquo;s responsive table classes, as well as adding zebra striping and active mouse hover highlighting to row elements. Tables are always wrapped in a <code>&lt;div class="table-responsive">&lt;/div></code> element. Currently, this behavior is not configurable.</p><h4 id=img-tag><code>img</code> Tag<a hidden class=anchor aria-hidden=true href=#img-tag>#</a></h4><p>All <code>&lt;img></code> tags should be given a <code>max-width</code> of 100%, as shown in the default <a href=https://github.com/charles-m-knox/light-sites/blob/main/config.yml><code>config.yml</code></a>. This is to prevent occasional issues where the image may not respect the width of the parent container(s).</p><h2 id=source-code>Source code<a hidden class=anchor aria-hidden=true href=#source-code>#</a></h2><p>View the source code <a href=https://github.com/charles-m-knox/light-sites>here on GitHub</a>.</p><h2 id=final-note>Final note<a hidden class=anchor aria-hidden=true href=#final-note>#</a></h2><p>Thanks for reading!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://charlesmknox.com/tags/portfolio/>portfolio</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Light Sites on twitter" href="https://twitter.com/intent/tweet/?text=Light%20Sites&url=https%3a%2f%2fcharlesmknox.com%2fportfolio%2ffullstack%2flight-sites%2f&hashtags=portfolio"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Light Sites on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcharlesmknox.com%2fportfolio%2ffullstack%2flight-sites%2f&title=Light%20Sites&summary=Light%20Sites&source=https%3a%2f%2fcharlesmknox.com%2fportfolio%2ffullstack%2flight-sites%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Light Sites on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fcharlesmknox.com%2fportfolio%2ffullstack%2flight-sites%2f&title=Light%20Sites"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Light Sites on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcharlesmknox.com%2fportfolio%2ffullstack%2flight-sites%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Light Sites on whatsapp" href="https://api.whatsapp.com/send?text=Light%20Sites%20-%20https%3a%2f%2fcharlesmknox.com%2fportfolio%2ffullstack%2flight-sites%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Light Sites on telegram" href="https://telegram.me/share/url?text=Light%20Sites&url=https%3a%2f%2fcharlesmknox.com%2fportfolio%2ffullstack%2flight-sites%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://charlesmknox.com>Charles M. Knox</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>